<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>dailyverrou.fr - Chaque jour un nouveau verrou</title>

    <script data-goatcounter="https://fffrancois.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

    <meta property="og:image" content="https://dailyverrou.fr/images/locks/042.jpg" />

    <meta content="width=device-width, initial-scale=1" name="viewport" />

    <script>
      const NUMBER_OF_IMAGES = 64;

      window.onload = function() {
        setImageUrl(imageForToday());
      };

      function imageForToday() {
        const today = new Date();
        const seed = today.getUTCDate() + today.getMonth();
        const paddedNumber = ("000" + seed % NUMBER_OF_IMAGES).slice(-3);
        return `images/locks/${paddedNumber}.jpg`;
      }

      function setImageUrl(url) {
        const lock_image = document.getElementById("lock_image");
        lock_image.setAttribute("src", url);
      }
    </script>

    <style media="screen" type="text/css">
      figure {
        text-align: center;
        max-width: 90vw;
        max-height: 70vh;
      }

      figcaption {
        font-size: 5vw;
        margin-bottom: 1em;
        font-weight: bold;
      }

      #lock_image {
        max-width: 100%;
        max-height: 70vh;
      }

      /* Desktop */
      @media screen and (min-width: 768px) {
        figcaption {
          font-size: 3em;
        }
      }
    </style>

  </head>
  <body>
    <figure>
      <figcaption>
        Voici le verrou du jour
      </figcaption>
      
      <img id="lock_image" src="" />
    </figure>
  </body>
</html>
